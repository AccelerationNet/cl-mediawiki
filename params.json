{"body":"# CL-MediaWiki\r\n\r\nThis is a project to help make the [MediaWiki API](http://www.mediawiki.org/wiki/API) accessible and easy to use from Common Lisp.  While this project is currently sparsely populated, what commands are there should work.  Patches Welcome!\r\n\r\n## Supported API\r\n\r\n* Edit\r\n * create-page - Creates a new wiki page\r\n * add-new-page-section - adds a new section to the specified wiki page\r\n * append-text-to-page / prepend-text-to-page - adds text at the top or bottom of the specified page\r\n * set-page-content - sets a pages content to the specified text\r\n * regex-replace-all - replace all instances of regex with replacement on a target-page.  There is an option for passing what the page content should be if it does not exist\r\n* Query \r\n * token-bag - an object to store action tokens with a time stamp (to prevent overriding someone else's change\r\n * get-action-tokens - requests and returns a token-bag for an edit/move/delete\r\n * get-page-content - returns the content of the most recent revision of a page\r\n * get-page-info - returns the properties of a page as an alist\r\n * get-revisions - returns revision history of a page, including contents and diffs\r\n * get-links - returns outgoing links from a page\r\n * pages-that-embed - returns a list of pages that embed another page/template\r\n * recent-changes - a list of recent changes to the wiki\r\n * user-contribs - a list of contributions from a specific user\r\n* Conditions \r\n * Errors\r\n  * media-wiki-error - signaled when media wiki returns an error\r\n\r\n## Example\r\n\r\n```lisp\r\n;; Gets the content of page \"Pigment\" from wikipedia\r\n(with-mediawiki (\"http://en.wikipedia.org/w\")\r\n    (get-page-content \"Pigment\"))\r\n\r\n;; Gets the content of page \"Pigment\" from a private mediawiki that\r\n;; requires authentication\r\n(with-mediawiki ((make-instance 'mediawiki\r\n\t\t\t\t :url \"http://wiki.yourdomain.net\"\r\n\t\t\t\t :auth (list \"user\" \"pass\")))\r\n    (get-page-content \"Pigment\"))\r\n\r\n;; Sets the content of page \"Pigment\" to be \"This is the new content\"\r\n(with-mediawiki (...)\r\n    (set-page-content \"Pigment\" \"This is the new content\"))\r\n\r\n;; Get the ids, user, and size of the last 10 revisions \r\n(with-mediawiki (\"http://en.wikipedia.org/w\")\r\n    (get-revisions \"Pigment\" :rvprop \"ids|user|size\" :rvlimit 10))\r\n```\r\n\r\n## Dependencies\r\n\r\n* [Closure-XML](http://common-lisp.net/project/cxml/)\r\n* [Drakma](http://weitz.de/drakma/)\r\n\r\n## Optional Dependencies\r\n\r\n* [CL-PPCRE](http://weitz.de/cl-ppcre/) - If you have this installed, there will be a couple more functions available\r\n\r\n## News\r\n\r\n* [Hosting Move Announcement](http://russ.unwashedmeme.com/blog/?p=135)\r\n* [Blagging about my first in system usage of CL-MediaWiki](http://russ.unwashedmeme.com/blog/?p=52)\r\n* [Introductory Blog Post](http://russ.unwashedmeme.com/blog/?p=43)\r\n\r\n## Authors\r\n* [Acceleration.net](http://www.acceleration.net/)\r\n * [Russ Tyndall](http://russ.unwashedmeme.com/blog)\r\n * [Nathan Bird](http://the.unwashedmeme.com/blog)\r\n * [Ryan Davis](http://ryepup.unwashedmeme.com/blog)\r\n* [Alexis Gallagher](https://github.com/algal)\r\n\r\n## License\r\n<pre>\r\n;; Copyright (c) 2011 Russ Tyndall , Acceleration.net http://www.acceleration.net\r\n;; All rights reserved.\r\n;;\r\n;; Redistribution and use in source and binary forms, with or without\r\n;; modification, are permitted provided that the following conditions are\r\n;; met:\r\n;;\r\n;;  - Redistributions of source code must retain the above copyright\r\n;;    notice, this list of conditions and the following disclaimer.\r\n;;\r\n;;  - Redistributions in binary form must reproduce the above copyright\r\n;;    notice, this list of conditions and the following disclaimer in the\r\n;;    documentation and/or other materials provided with the distribution.\r\n;;\r\n;; THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\r\n;; \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\r\n;; LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\r\n;; A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT\r\n;; OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\r\n;; SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\r\n;; LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n;; DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\r\n;; THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n;; (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\r\n;; OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n</pre>\r\n","note":"Don't delete this file! It's used internally to help with page regeneration.","name":"Cl-mediawiki","tagline":"A Common Lisp wrapper around the MediaWiki api","google":""}